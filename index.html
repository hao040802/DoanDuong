<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bốc Lá Bài Tình Cảm 💖</title>
  <style>
    :root {
      --card-width: 260px;
      --card-height: 380px;
      --snoopy-size: 100px;
    }
    body {
      margin: 0;
      padding: 0;
      background: linear-gradient(120deg, #fbc2eb, #a6c1ee);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      overflow: hidden;
      position: relative;
    }

    h1 {
      font-size: 2rem;
      color: #6a0572;
      margin-bottom: 1rem;
      z-index: 3;
      text-align: center;
    }

    /* Card container */
    .card-container {
      width: var(--card-width);
      height: var(--card-height);
      perspective: 1000px;
      z-index: 3;
    }

    .card {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 1s ease;
      cursor: pointer;
    }

    .card.shuffling {
      animation: shuffle 0.8s ease-in-out;
    }

    @keyframes shuffle {
      0%, 100% { transform: rotateY(0deg) rotateZ(0deg); }
      25% { transform: rotateY(0deg) rotateZ(5deg); }
      50% { transform: rotateY(0deg) rotateZ(-5deg); }
      75% { transform: rotateY(0deg) rotateZ(3deg); }
    }

    .card.flipped {
      transform: rotateY(180deg);
    }

    .card-face {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 12px;
      backface-visibility: hidden;
      box-shadow: 0 10px 25px rgba(0,0,0,0.15);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }

    .card-back {
      background: linear-gradient(145deg, #00c3ff, #28f0ff);
      border: 4px solid #028f9b;
      font-size: 1.5rem;
      font-weight: bold;
      color: white;
    }

    .card-front {
      background: white;
      border: 4px solid #028f9b;
      transform: rotateY(180deg);
      font-size: 1.1rem;
      text-align: center;
      color: #333;
    }

    /* Buttons */
    #drawBtn {
      margin-top: 1.2rem;
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: 25px;
      background-color: #ff7eb9;
      color: white;
      font-size: 1rem;
      cursor: pointer;
      transition: background-color 0.3s ease;
      z-index: 3;
    }
    #drawBtn:hover {
      background-color: #ff5194;
    }

    /* Snoopy images */
    .snoopy {
      position: absolute;
      width: var(--snoopy-size);
      height: auto;
      z-index: 1;
      opacity: 0.95;
    }
    .top-left { top: 12px; left: 12px; }
    .top-right { top: 12px; right: 12px; }
    .bottom-left { bottom: 12px; left: 12px; }
    .bottom-right { bottom: 12px; right: 12px; }
    .mid-left { top: 50%; left: 8px; transform: translateY(-50%); }
    .mid-right { top: 50%; right: 8px; transform: translateY(-50%); }

    @media (max-width: 600px) {
      :root {
        --card-width: 200px;
        --card-height: 300px;
        --snoopy-size: 70px;
      }
      h1 { font-size: 1.5rem; }
    }
  </style>
</head>
<body>

  <h1>Bốc Lá Bài Tình Cảm 💖</h1>

  <!-- Card -->
  <div class="card-container">
    <div class="card" id="card">
      <div class="card-face card-back">💙</div>
      <div class="card-face card-front" id="cardQuestion">Nhấn để rút lá bài</div>
    </div>
  </div>

  <button id="drawBtn">✨ Rút Lá Bài</button>

  <!-- Snoopy GIFs -->
  <img class="snoopy top-left" src="images/snoopy1.gif" alt="Snoopy">
  <img class="snoopy top-right" src="images/snoopy2.gif" alt="Snoopy">
  <img class="snoopy bottom-left" src="images/snoopy3.gif" alt="Snoopy">
  <img class="snoopy bottom-right" src="images/snoopy4.gif" alt="Snoopy">
  <img class="snoopy mid-left" src="images/snoopy5.gif" alt="Snoopy">
  <img class="snoopy mid-right" src="images/snoopy6.gif" alt="Snoopy">

  <script>
    const questions = [
      "Nếu được cùng nhau đi du lịch một nơi, bạn muốn đi đâu nhất?",
      "Bạn thích mùa nào nhất và tại sao?",
      "Điều gì khiến bạn cảm thấy an toàn khi ở bên người khác?",
      "Khi buồn, bạn muốn người kia làm gì cho bạn?",
      "Điều nhỏ nhặt nào ở tôi khiến bạn cảm thấy hạnh phúc?",
      "Nếu chúng ta có một ngày cuối tuần chỉ có hai người, bạn muốn làm gì?",
      "Bạn nghĩ chúng ta sẽ như thế nào sau 5 năm nữa?",
      "Có điều gì bạn chưa từng nói với tôi nhưng luôn muốn nói?",
      "Khoảnh khắc nào khiến bạn cảm thấy thực sự yêu tôi?",
      "Món ăn nào khiến bạn nghĩ đến tôi?"
    ];

    let availableQuestions = [...questions];
    const card = document.getElementById('card');
    const cardQuestion = document.getElementById('cardQuestion');
    const drawBtn = document.getElementById('drawBtn');

    drawBtn.addEventListener('click', () => {
      // Trộn bài (rung)
      card.classList.add('shuffling');

      setTimeout(() => {
        card.classList.remove('shuffling');
        // Úp bài
        card.classList.remove('flipped');

        // Lấy câu hỏi ngẫu nhiên
        if (availableQuestions.length === 0) {
          availableQuestions = [...questions];
        }
        const idx = Math.floor(Math.random() * availableQuestions.length);
        const q = availableQuestions.splice(idx, 1)[0];

        // Lật ra câu hỏi
        setTimeout(() => {
          cardQuestion.textContent = q;
          card.classList.add('flipped');
        }, 600);

      }, 800);
    });
  </script>

</body>
</html>
