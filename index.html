<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>H·ªôp C√¢u H·ªèi T√¨nh C·∫£m üíñ + Snoopy GIFs</title>
  <style>
    :root {
      --snoopy-size: 100px;
    }
    body {
      margin: 0;
      padding: 0;
      background: linear-gradient(120deg, #fbc2eb, #a6c1ee);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      color: #333;
      overflow: hidden;
      position: relative;
    }

    h1 {
      font-size: 2.2rem;
      margin-bottom: 0.8rem;
      color: #6a0572;
      text-align: center;
      z-index: 3;
    }

    #questionBox {
      background: rgba(255,255,255,0.98);
      border-radius: 16px;
      padding: 20px 26px;
      width: 86%;
      max-width: 720px;
      box-shadow: 0 12px 28px rgba(0,0,0,0.12);
      text-align: center;
      font-size: 1.15rem;
      transition: transform 0.25s ease;
      z-index: 3;
    }

    #controls {
      margin-top: 14px;
      display:flex;
      gap:12px;
      justify-content:center;
      z-index:3;
    }

    #randomBtn, #resetSeenBtn {
      padding: 10px 16px;
      border: none;
      border-radius: 999px;
      background: linear-gradient(90deg,#ff7eb9,#ff5194);
      color: white;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 6px 14px rgba(255,82,148,0.18);
    }
    #resetSeenBtn { background: linear-gradient(90deg,#76b0ff,#6bd3ff); }

    /* Snoopy GIF positions */
    .snoopy {
      position: absolute;
      width: var(--snoopy-size);
      height: auto;
      z-index: 1;
      transition: transform 0.28s ease, opacity 0.28s ease;
      opacity: 0.95;
      pointer-events: auto;
    }
    .snoopy:hover { transform: scale(1.18); }

    .top-left { top: 12px; left: 12px; }
    .top-right { top: 12px; right: 12px; }
    .bottom-left { bottom: 12px; left: 12px; }
    .bottom-right { bottom: 12px; right: 12px; }
    .mid-left { top: 50%; left: 8px; transform: translateY(-50%); }
    .mid-right { top: 50%; right: 8px; transform: translateY(-50%); }

    /* n·∫øu GIF b·ªã ·∫©n */
    .hidden { display:none !important; }

    @media (max-width:600px){
      :root { --snoopy-size: 72px; }
      #questionBox { font-size: 1rem; padding: 18px; width: 92%; }
      h1 { font-size: 1.6rem; }
    }
  </style>
</head>
<body>
  <h1>H·ªôp C√¢u H·ªèi T√¨nh C·∫£m üíñ</h1>

  <div id="questionBox">Nh·∫•n n√∫t b√™n d∆∞·ªõi ƒë·ªÉ nh·∫≠n m·ªôt c√¢u h·ªèi ng·ªçt ng√†o!</div>

  <div id="controls">
    <button id="randomBtn">‚ú® L·∫•y C√¢u H·ªèi</button>
    <button id="resetSeenBtn" title="Reset danh s√°ch ƒë√£ hi·ªÉn th·ªã">üîÅ Reset</button>
  </div>

  <!-- C√°c th·∫ª <img> c√≥ attribute data-sources (danh s√°ch ngu·ªìn th·ª≠) -->
  <img class="snoopy top-left"    data-sources="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExMXg4NmZvejkwOWo5dnBhc25pYTFjaDhwNnN5cW1qejQyY2R1bXJ2biZlcD12MV9zdGlja2Vyc19zZWFyY2gmY3Q9cw/vWRVoN1kdk7h6jdiMl/giphy.gif" alt="Snoopy TL">
  <img class="snoopy top-right"   data-sources="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExMXg4NmZvejkwOWo5dnBhc25pYTFjaDhwNnN5cW1qejQyY2R1bXJ2biZlcD12MV9zdGlja2Vyc19zZWFyY2gmY3Q9cw/6YKh1ephXCvZzWcsH7/giphy.gif" alt="Snoopy TR">
  <img class="snoopy bottom-left" data-sources="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExMXg4NmZvejkwOWo5dnBhc25pYTFjaDhwNnN5cW1qejQyY2R1bXJ2biZlcD12MV9zdGlja2Vyc19zZWFyY2gmY3Q9cw/75q4KvqLLhX6GWToiL/giphy.gif" alt="Snoopy BL">
  <img class="snoopy bottom-right"data-sources="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExMXg4NmZvejkwOWo5dnBhc25pYTFjaDhwNnN5cW1qejQyY2R1bXJ2biZlcD12MV9zdGlja2Vyc19zZWFyY2gmY3Q9cw/TSzXpDy67aLSXSK5uI/giphy.gif" alt="Snoopy BR">
  <img class="snoopy mid-left"    data-sources="images/snoopy5.gif,https://media.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif,https://media.giphy.com/media/13HgwGsXF0aiGY/giphy.gif" alt="Snoopy ML">
  <img class="snoopy mid-right"   data-sources="images/snoopy6.gif,https://media.giphy.com/media/12XMGIWtrHBl5e/giphy.gif,https://media.giphy.com/media/Zx0p7CN2eJt6s/giphy.gif" alt="Snoopy MR">

  <script>
    // ------------------------
    // 1) C√¢u h·ªèi (v√≠ d·ª• ng·∫Øn, m·ªü r·ªông nh∆∞ b·∫°n mu·ªën)
    // ------------------------
    const questions = [
      "N·∫øu ƒë∆∞·ª£c c√πng nhau ƒëi du l·ªãch m·ªôt n∆°i, b·∫°n mu·ªën ƒëi ƒë√¢u nh·∫•t?",
      "B·∫°n th√≠ch m√πa n√†o nh·∫•t v√† t·∫°i sao?",
      "ƒêi·ªÅu g√¨ khi·∫øn b·∫°n c·∫£m th·∫•y an to√†n khi ·ªü b√™n ng∆∞·ªùi kh√°c?",
      "Khi bu·ªìn, b·∫°n mu·ªën ng∆∞·ªùi kia l√†m g√¨ cho b·∫°n?",
      "ƒêi·ªÅu nh·ªè nh·∫∑t n√†o ·ªü t√¥i khi·∫øn b·∫°n c·∫£m th·∫•y h·∫°nh ph√∫c?",
      "N·∫øu ch√∫ng ta c√≥ m·ªôt ng√†y cu·ªëi tu·∫ßn ch·ªâ c√≥ hai ng∆∞·ªùi, b·∫°n mu·ªën l√†m g√¨?",
      "B·∫°n nghƒ© ch√∫ng ta s·∫Ω nh∆∞ th·∫ø n√†o sau 5 nƒÉm n·ªØa?",
      "C√≥ ƒëi·ªÅu g√¨ b·∫°n ch∆∞a t·ª´ng n√≥i v·ªõi t√¥i nh∆∞ng lu√¥n mu·ªën n√≥i?",
      "Kho·∫£nh kh·∫Øc n√†o khi·∫øn b·∫°n c·∫£m th·∫•y th·ª±c s·ª± y√™u t√¥i?",
      "M√≥n ƒÉn n√†o khi·∫øn b·∫°n nghƒ© ƒë·∫øn t√¥i?"
    ];

    // ------------------------
    // 2) Logic tr√°nh l·∫∑p
    // ------------------------
    let availableQuestions = [...questions];
    const box = document.getElementById('questionBox');
    const btn = document.getElementById('randomBtn');
    const resetBtn = document.getElementById('resetSeenBtn');

    btn.addEventListener('click', () => {
      if (availableQuestions.length === 0) {
        // Option: b·∫°n c√≥ th·ªÉ t·ª± ƒë·ªông reset ho·∫∑c th√¥ng b√°o "ƒë√£ h·∫øt"
        availableQuestions = [...questions];
      }
      const idx = Math.floor(Math.random() * availableQuestions.length);
      const q = availableQuestions.splice(idx, 1)[0];
      box.textContent = q;
      // optional: l∆∞u v√†o localStorage ƒë·ªÉ gi·ªØ tr·∫°ng th√°i khi reload (b·∫≠t n·∫øu mu·ªën)
      // localStorage.setItem('availableQuestions', JSON.stringify(availableQuestions));
    });

    resetBtn.addEventListener('click', () => {
      availableQuestions = [...questions];
      box.textContent = "Danh s√°ch ƒë√£ ƒë∆∞·ª£c reset ‚Äî b·∫•m L·∫•y C√¢u H·ªèi ƒë·ªÉ b·∫Øt ƒë·∫ßu l·∫°i.";
      // localStorage.removeItem('availableQuestions');
    });

    // ------------------------
    // 3) Loader GIF: th·ª≠ t·ª´ng ngu·ªìn trong data-sources
    // ------------------------
    function trySourcesForImg(imgEl) {
      const raw = imgEl.getAttribute('data-sources') || '';
      if (!raw) { imgEl.classList.add('hidden'); return; }
      const sources = raw.split(',').map(s => s.trim()).filter(Boolean);
      let i = 0;

      function tryNext() {
        if (i >= sources.length) {
          // kh√¥ng ngu·ªìn n√†o load ƒë∆∞·ª£c -> ·∫©n ·∫£nh ƒë·ªÉ tr√°nh hi·ªÉn th·ªã ·∫£nh l·ªói
          imgEl.classList.add('hidden');
          return;
        }
        const src = sources[i++];
        const tester = new Image();
        tester.onload = () => {
          imgEl.src = src;
          imgEl.classList.remove('hidden');
          // n·∫øu mu·ªën set alt/title t∆∞∆°ng ·ª©ng: imgEl.title = 'Snoopy';
        };
        tester.onerror = () => {
          // th·ª≠ ngu·ªìn ti·∫øp theo
          tryNext();
        };
        // b·∫Øt ƒë·∫ßu th·ª≠
        tester.src = src;
      }

      tryNext();
    }

    // √Åp d·ª•ng cho t·∫•t c·∫£ .snoopy
    document.querySelectorAll('.snoopy').forEach(el => {
      // th√™m 1 kho·∫£ng delay nh·ªè ƒë·ªÉ tr√°nh c√πng l√∫c request t·∫•t c·∫£
      setTimeout(() => trySourcesForImg(el), Math.floor(Math.random()*600));
    });

    // G·ª£i √Ω: n·∫øu b·∫°n mu·ªën l∆∞u GIF v√†o repo, t·∫°o folder `images/` v√† ƒë·∫∑t:
    // images/snoopy1.gif, images/snoopy2.gif, ... images/snoopy6.gif
    // Khi repo c·ªßa b·∫°n host tr√™n GitHub Pages, ƒë∆∞·ªùng d·∫´n relative n√†y s·∫Ω ho·∫°t ƒë·ªông t·ªët.
  </script>
</body>
</html>

